create database SENSOR_CLOUD;
create table FILE_DETAILS (
ID int NOT NULL AUTO_INCREMENT,
FILE_NAME varchar(50) NOT NULL,
EXTENSION VARCHAR(6),
DESCRIPTION VARCHAR(50),
PRIMARY KEY (ID,FILE_NAME,EXTENSION)
);
ALTER TABLE FILE_DETAILS ADD CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;

create table SENSOR_DATA (
LATITUDE DECIMAL(7,4) ,
LONGITUDE DECIMAL(7,4),
SENSOR_ID VARCHAR(20),
BUOY DECIMAL(9,6),
PRESSURE DECIMAL(5,2),
TEMPERATURE_C DECIMAL(7,4),
SALINITY DECIMAL(5,3),
CONDUCTIVITY DECIMAL(8,6),
TIME_RECORDED TIMESTAMP,
UPDATED_TIME TIMESTAMP);

 alter table FILE_DETAILS add PROCESSED VARCHAR(2) DEFAULT 'N';

delete from file_details;
delete from sensor_data;

alter table SENSOR_DATA modify TIME_RECORDED timestamp DEFAULT current_timestamp;
 alter table SENSOR_DATA modify UPDATED_TIME timestamp DEFAULT current_timestamp ON UPDATE CURRENT_TIMESTAMP;
 
create table SENSOR_LIST (
LATITUDE DECIMAL(7,4) ,
LONGITUDE DECIMAL(7,4),
SENSOR_ID VARCHAR(20),
OWNER VARCHAR(20),
STATUS DECIMAL(1,0),
TIME_CREATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP, 
TIME_UPDATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP);

alter table SENSOR_LIST ADD COLUMN IP_ADDRESS VARCHAR(17) DEFAULT NULL;
alter table SENSOR_LIST ADD COLUMN TYPE VARCHAR(10) DEFAULT NULL;

ALTER TABLE SENSOR_DATA ADD CLOUMN TYPE VARCHAR(10) DEFAULT NULL;